<<<<<<< HEAD
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}$(document).on("click",".product-row__button",function(){$(this).hasClass("animate")||($(this).addClass("animate"),$(this).addClass("button--check"),setTimeout(function(){$(this).removeClass("button--check"),$(this).removeClass("animate")}.bind(this),2e3))}),function(){var t=document.getElementById("menu-button");t.addEventListener("click",function(){t.classList.toggle("opened")}),window.onresize=function(){t.classList.remove("opened")},window.onscroll=function(){t.classList.remove("opened")}}(),function(){var t=function(){function n(t,e,o){_classCallCheck(this,n),this._self=t,this._title=this._self.querySelectorAll("."+e)[0],this._products=this._self.querySelectorAll("."+o)[0]}return _createClass(n,[{key:"_cleanProducts",value:function(){this._products.innerHTML=""}},{key:"_playPreloader",value:function(){}},{key:"_stopPreloader",value:function(){}},{key:"updateTitle",value:function(t){this._title.innerHTML=t}},{key:"updateListProducts",value:function(t){this._products.innerHTML=t}},{key:"addProducts",value:function(t){this._products.insertAdjacentHTML("beforeend",t)}}]),n}(),e=function(){function o(t,e){_classCallCheck(this,o),this._url=t,this._type=e,this.ajax=new XMLHttpRequest}return _createClass(o,[{key:"_progress",value:function(){}},{key:"_complete",value:function(){var t=JSON.parse(this.response);console.log(t)}},{key:"send",value:function(t){this.ajax.addEventListener("progress",this._progress,!1),this.ajax.addEventListener("load",this._complete,!1),"get"===this._type.toLowerCase()?(this.ajax.open(this._type,this._url),this.ajax.send(),console.log("get")):"post"===this._type.toLowerCase()?console.log("post"):console.log("Error")}}]),o}(),o=new t(document.querySelectorAll(".catalog")[0],"catalog__title","catalog__container");new e("test.json","get").send({data:1}),window.catalodTest=o}(),$(".footer__col-title").on("click",function(t){t.preventDefault(),$(this).closest(".footer__col").find(".footer__col-list").slideToggle(300)}),window.addEventListener("load",function(){var t=$(".catalog-nav__controls-link"),e=($(".catalog-nav__controls-list"),$(".catalog-nav__controls-item"),$(".catalog-nav__controls-link.is-active")),i=$(".catalog-nav__hover"),o=e.position().left,n=e.position().top,s=(e.innerWidth(),e.innerHeight(),!1);function c(){o=e.position().left,n=e.position().top,e.innerWidth(),e.innerHeight(),i.css({left:o,top:n,width:0,height:0})}t.hover(function(){var t=$(this).position().left,e=$(this).position().top,o=$(this).innerWidth(),n=$(this).innerHeight();i.css({left:t,top:e,width:o,height:n}),s=!1},function(){setTimeout(function(){s&&i.css({left:o,top:n,width:0,height:0})},1e3),s=!0}),$(window).resize(function(){c()}),c()}),function(){var t=document.getElementById("scene");new Parallax(t)}(),$(document).on("click",".product-row__info-button",function(){$(this).closest(".product-row").find(".product-row__info-button").toggleClass("is-active"),$(this).closest(".product-row").find(".product-row__info-content").slideToggle(300)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZFRvQmFza2V0LmpzIiwiYnVyZ2VyLmpzIiwiY2F0YWxvZ1VwZGF0ZUNsYXNzLmpzIiwiZm9vdGVyTWVudS5qcyIsImhvdmVyUm9sbGVyLmpzIiwicGFyYWxsYXguanMiLCJzaG93TW9yZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJvbiIsInRoaXMiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwiYmluZCIsIm1lbnVCdG4iLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJvbnJlc2l6ZSIsInJlbW92ZSIsIm9uc2Nyb2xsIiwiQ2F0YWxvZyIsInNlbGYiLCJ0aXRsZUNsYXNzIiwicHJvZHVjdHNDb250YWluZXJDbGFzcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9zZWxmIiwiX3RpdGxlIiwicXVlcnlTZWxlY3RvckFsbCIsIl9wcm9kdWN0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJwcm9kdWN0cyIsImluc2VydEFkamFjZW50SFRNTCIsIkFqYXhHZXRQcm9kdWN0cyIsInVybCIsInR5cGUiLCJfdXJsIiwiX3R5cGUiLCJhamF4IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJkYXRhIiwiX3Byb2dyZXNzIiwiX2NvbXBsZXRlIiwidG9Mb3dlckNhc2UiLCJvcGVuIiwic2VuZCIsImNhdGFsb2RUZXN0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VzdCIsImZpbmQiLCJzbGlkZVRvZ2dsZSIsIm1lbnVMaW5rIiwiYWN0aXZlTGluayIsImhvdmVyQm94IiwiYWN0aXZlTGlua1Bvc0xlZnQiLCJwb3NpdGlvbiIsImxlZnQiLCJhY3RpdmVMaW5rUG9zVG9wIiwidG9wIiwiY2hlY2siLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJyZXNpemVQb3MiLCJjc3MiLCJ3aWR0aCIsImhlaWdodCIsImhvdmVyIiwibmV3TGlua1Bvc0xlZnQiLCJuZXdMaW5rUG9zVG9wIiwibmV3TGlua1dpZHRoIiwibmV3TGlua0hlaWdodCIsInJlc2l6ZSIsInNjZW5lIiwiUGFyYWxsYXgiLCJ0b2dnbGVDbGFzcyJdLCJtYXBwaW5ncyI6Im1aQUNJQSxFQUFFQyxVQUFVQyxHQUFHLFFBQVMsdUJBQXdCLFdBQ3ZDRixFQUFFRyxNQUFNQyxTQUFTLGFBQ2xCSixFQUFFRyxNQUFNRSxTQUFTLFdBQ2pCTCxFQUFFRyxNQUFNRSxTQUFTLGlCQUNqQkMsV0FBVyxXQUNQTixFQUFFRyxNQUFNSSxZQUFZLGlCQUNwQlAsRUFBRUcsTUFBTUksWUFBWSxZQUN0QkMsS0FBS0wsTUFBTyxRQ1J6QixXQUNHLElBQUlNLEVBQVVSLFNBQVNTLGVBQWUsZUFFdENELEVBQVFFLGlCQUFpQixRQUFTLFdBQzlCRixFQUFRRyxVQUFVQyxPQUFPLFlBRzdCQyxPQUFPQyxTQUFXLFdBQ2ROLEVBQVFHLFVBQVVJLE9BQU8sV0FFN0JGLE9BQU9HLFNBQVcsV0FDZFIsRUFBUUcsVUFBVUksT0FBTyxXQVhoQyxHQ0FBLFdBQVcsSUFFRkUsRUFGRSxXQUdKLFNBQUFBLEVBQVlDLEVBQU1DLEVBQVlDLEdBQXVCQyxnQkFBQW5CLEtBQUFlLEdBQ2pEZixLQUFLb0IsTUFBUUosRUFDYmhCLEtBQUtxQixPQUFTckIsS0FBS29CLE1BQU1FLGlCQUFpQixJQUFNTCxHQUFZLEdBQzVEakIsS0FBS3VCLFVBQVl2QixLQUFLb0IsTUFBTUUsaUJBQWlCLElBQU1KLEdBQXdCLEdBTjNFLE9BQUFNLGFBQUFULEVBQUEsQ0FBQSxDQUFBVSxJQUFBLGlCQUFBQyxNQUFBLFdBVUExQixLQUFLdUIsVUFBVUksVUFBWSxLQVYzQixDQUFBRixJQUFBLGlCQUFBQyxNQUFBLGNBQUEsQ0FBQUQsSUFBQSxpQkFBQUMsTUFBQSxjQUFBLENBQUFELElBQUEsY0FBQUMsTUFBQSxTQXFC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QUFTLDRCQUE2QixXQUNqREYsRUFBRUcsTUFBTXFELFFBQVEsZ0JBQWdCQyxLQUFLLDZCQUE2QnlCLFlBQVksYUFDOUVsRixFQUFFRyxNQUFNcUQsUUFBUSxnQkFBZ0JDLEtBQUssOEJBQThCQyxZQUFZIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbigpIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucHJvZHVjdC1yb3dfX2J1dHRvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYW5pbWF0ZScpKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImJ1dHRvbi0tY2hlY2tcIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiYnV0dG9uLS1jaGVja1wiKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAyMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSkoKTtcclxuIiwiOyhmdW5jdGlvbigpIHtcclxuICAgIGxldCBtZW51QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtYnV0dG9uJyk7XHJcblxyXG4gICAgbWVudUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnb3BlbmVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBtZW51QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW5lZCcpO1xyXG4gICAgfVxyXG4gICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbWVudUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQnKTtcclxuICAgIH1cclxufSkoKTtcclxuIiwiOyhmdW5jdGlvbigpe1xuXG4gICAgY2xhc3MgQ2F0YWxvZyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHNlbGYsIHRpdGxlQ2xhc3MsIHByb2R1Y3RzQ29udGFpbmVyQ2xhc3Mpe1xuICAgICAgICAgICAgdGhpcy5fc2VsZiA9IHNlbGY7XG4gICAgICAgICAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3NlbGYucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHRpdGxlQ2xhc3MpWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvZHVjdHMgPSB0aGlzLl9zZWxmLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyBwcm9kdWN0c0NvbnRhaW5lckNsYXNzKVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jbGVhblByb2R1Y3RzKCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvZHVjdHMuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9wbGF5UHJlbG9hZGVyKCkge1xuICAgICAgICAgICAgLy8g0KHQtNC10LvQsNGC0Ywg0LfQsNC/0YPRgdC6INC/0YDQtdC70L7Rg9C00LXRgNCwXG4gICAgICAgIH1cblxuICAgICAgICBfc3RvcFByZWxvYWRlcigpIHtcbiAgICAgICAgICAgIC8vINCh0LTQtdC70LDRgtGMINC+0YHRgtCw0L3QvtCy0LrRgyDQv9GA0LXQu9C+0YPQtNC10YDQsFxuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlVGl0bGUodGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlTGlzdFByb2R1Y3RzKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9kdWN0cy5pbm5lckhUTUwgPSBwcm9kdWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZFByb2R1Y3RzKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9kdWN0cy5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgcHJvZHVjdHMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBjbGFzcyBBamF4R2V0UHJvZHVjdHMge1xuICAgICAgICBjb25zdHJ1Y3Rvcih1cmwsIHR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgICAgICAgdGhpcy5hamF4ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBfcHJvZ3Jlc3MoKSB7XG4gICAgICAgICAgICAvLyDQodC00LXQu9Cw0YLRjCDQtNC10LnRgdGC0LLQuNC1INCy0L4g0LLRgNC10LzRjyDQv9GA0L7RhtC10YHRgdCwINC30LDQs9GA0YPQt9C60LhcbiAgICAgICAgfVxuXG4gICAgICAgIF9jb21wbGV0ZSgpIHtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnN0YXR1cyAhPSAyMDApIHtcbiAgICAgICAgICAgIC8vICAgLy8g0L7QsdGA0LDQsdC+0YLQsNGC0Ywg0L7RiNC40LHQutGDXG4gICAgICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCB0aGlzLnN0YXR1cyArICc6ICcgKyB0aGlzLnN0YXR1c1RleHQgKTsgLy8g0L/RgNC40LzQtdGAINCy0YvQstC+0LTQsDogNDA0OiBOb3QgRm91bmRcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgIC8vINCy0YvQstC10YHRgtC4INGA0LXQt9GD0LvRjNGC0LDRglxuICAgICAgICAgICAgLy8gICBsZXQgb2JqID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlKVxuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyggb2JqICk7IC8vIHJlc3BvbnNlVGV4dCAtLSDRgtC10LrRgdGCINC+0YLQstC10YLQsC5cbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNlbmQoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5hamF4LmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCB0aGlzLl9wcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5hamF4LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuX2NvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2V0XCIpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5vcGVuKHRoaXMuX3R5cGUsIHRoaXMuX3VybCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hamF4LnNlbmQoKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl90eXBlLnRvTG93ZXJDYXNlKCkgPT09IFwicG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwb3N0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBsZXQgY2F0YWxvZFRlc3QgPSBuZXcgQ2F0YWxvZyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGFsb2dcIilbMF0sIFwiY2F0YWxvZ19fdGl0bGVcIiwgXCJjYXRhbG9nX19jb250YWluZXJcIik7XG4gICAgbGV0IGFqYXhDb25uZWN0ID0gbmV3IEFqYXhHZXRQcm9kdWN0cyhcInRlc3QuanNvblwiLCBcImdldFwiKTtcblxuICAgIGFqYXhDb25uZWN0LnNlbmQoe2RhdGE6IDF9KTtcblxuICAgIC8v0KLQtdGB0YJcbiAgICAvLyB3aW5kb3cuZGl2QXJyYXkgPSBkaXZBcnJheTtcbiAgICB3aW5kb3cuY2F0YWxvZFRlc3QgPSBjYXRhbG9kVGVzdDtcbn0pKCk7XG4iLCI7KGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGJ1dHRvbiA9ICQoJy5mb290ZXJfX2NvbC10aXRsZScpO1xyXG5cclxuICAgIGJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZvb3Rlcl9fY29sJykuZmluZCgnLmZvb3Rlcl9fY29sLWxpc3QnKS5zbGlkZVRvZ2dsZSgzMDApO1xyXG4gICAgfSk7XHJcbn0pKCk7XHJcbiIsIjsoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIG1lbnVMaW5rID0gJCgnLmNhdGFsb2ctbmF2X19jb250cm9scy1saW5rJyksXHJcbiAgICAgICAgICAgIG1lbnUgPSAkKCcuY2F0YWxvZy1uYXZfX2NvbnRyb2xzLWxpc3QnKTtcclxuXHJcbiAgICAgICAgdmFyIG1lbnVJdGVtID0gJCgnLmNhdGFsb2ctbmF2X19jb250cm9scy1pdGVtJyksXHJcbiAgICAgICAgICAgIGFjdGl2ZUxpbmsgPSAkKCcuY2F0YWxvZy1uYXZfX2NvbnRyb2xzLWxpbmsuaXMtYWN0aXZlJyksXHJcbiAgICAgICAgICAgIGhvdmVyQm94ID0gJCgnLmNhdGFsb2ctbmF2X19ob3ZlcicpLFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rUG9zTGVmdCA9IGFjdGl2ZUxpbmsucG9zaXRpb24oKS5sZWZ0LFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rUG9zVG9wID0gYWN0aXZlTGluay5wb3NpdGlvbigpLnRvcCxcclxuICAgICAgICAgICAgYWN0aXZlTGlua1dpZHRoID0gYWN0aXZlTGluay5pbm5lcldpZHRoKCksXHJcbiAgICAgICAgICAgIGFjdGl2ZUxpbmtIZWlnaHQgPSBhY3RpdmVMaW5rLmlubmVySGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgIG1lbnVMaW5rLmhvdmVyKFxyXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdMaW5rUG9zTGVmdCA9ICQodGhpcykucG9zaXRpb24oKS5sZWZ0LFxyXG4gICAgICAgICAgICAgICAgbmV3TGlua1Bvc1RvcCA9ICQodGhpcykucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgICAgICBuZXdMaW5rV2lkdGggPSAkKHRoaXMpLmlubmVyV2lkdGgoKSxcclxuICAgICAgICAgICAgICAgIG5ld0xpbmtIZWlnaHQgPSAkKHRoaXMpLmlubmVySGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIGhvdmVyQm94LmNzcyh7J2xlZnQnIDogbmV3TGlua1Bvc0xlZnQsICd0b3AnIDogbmV3TGlua1Bvc1RvcCwgJ3dpZHRoJyA6IG5ld0xpbmtXaWR0aCwgJ2hlaWdodCcgOiBuZXdMaW5rSGVpZ2h0fSk7XHJcbiAgICAgICAgICAgIGNoZWNrID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckJveC5jc3MoeydsZWZ0JyA6IGFjdGl2ZUxpbmtQb3NMZWZ0LCAndG9wJyA6IGFjdGl2ZUxpbmtQb3NUb3AsICd3aWR0aCcgOiAwLCAnaGVpZ2h0JyA6IDB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICBjaGVjayA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzaXplUG9zKCkge1xyXG4gICAgICAgICAgICBhY3RpdmVMaW5rUG9zTGVmdCA9IGFjdGl2ZUxpbmsucG9zaXRpb24oKS5sZWZ0LFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rUG9zVG9wID0gYWN0aXZlTGluay5wb3NpdGlvbigpLnRvcCxcclxuICAgICAgICAgICAgYWN0aXZlTGlua1dpZHRoID0gYWN0aXZlTGluay5pbm5lcldpZHRoKCksXHJcbiAgICAgICAgICAgIGFjdGl2ZUxpbmtIZWlnaHQgPSBhY3RpdmVMaW5rLmlubmVySGVpZ2h0KCk7XHJcblxyXG4gICAgICAgICAgICBob3ZlckJveC5jc3MoeydsZWZ0JyA6IGFjdGl2ZUxpbmtQb3NMZWZ0LCAndG9wJyA6IGFjdGl2ZUxpbmtQb3NUb3AsICd3aWR0aCcgOiAwLCAnaGVpZ2h0JyA6IDB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlc2l6ZVBvcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlc2l6ZVBvcygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxufSkoKTtcclxuIiwiOyhmdW5jdGlvbigpIHtcclxuICAgIGxldCBzY2VuZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2VuZScpO1xyXG4gICAgbGV0IHBhcmFsbGF4SW5zdGFuY2UgPSBuZXcgUGFyYWxsYXgoc2NlbmUpO1xyXG5cclxuICAgIFxyXG59KSgpO1xyXG4iLCI7KGZ1bmN0aW9uKCkge1xyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5wcm9kdWN0LXJvd19faW5mby1idXR0b24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5wcm9kdWN0LXJvdycpLmZpbmQoJy5wcm9kdWN0LXJvd19faW5mby1idXR0b24nKS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcucHJvZHVjdC1yb3cnKS5maW5kKCcucHJvZHVjdC1yb3dfX2luZm8tY29udGVudCcpLnNsaWRlVG9nZ2xlKDMwMCk7XHJcbiAgICB9KTtcclxufSkoKTtcclxuIl19
=======
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}$(document).on("click",".product-row__button",function(){$(this).hasClass("animate")||($(this).addClass("animate"),$(this).addClass("button--check"),setTimeout(function(){$(this).removeClass("button--check"),$(this).removeClass("animate")}.bind(this),2e3))}),function(){var t=document.getElementById("menu-button");t.addEventListener("click",function(){t.classList.toggle("opened")}),window.onresize=function(){t.classList.remove("opened")},window.onscroll=function(){t.classList.remove("opened")}}(),function(){var t=function(){function i(t,e,s){_classCallCheck(this,i),this._self=t,this._title=this._self.querySelectorAll("."+e)[0],this._products=this._self.querySelectorAll("."+s)[0]}return _createClass(i,[{key:"_cleanProducts",value:function(){this._products.innerHTML=""}},{key:"_playPreloader",value:function(){}},{key:"_stopPreloader",value:function(){}},{key:"updateTitle",value:function(t){this._title.innerHTML=t}},{key:"updateListProducts",value:function(t){this._products.innerHTML=t}},{key:"addProducts",value:function(t){this._products.insertAdjacentHTML("beforeend",t)}}]),i}(),e=function(){function s(t,e){_classCallCheck(this,s),this._containerBrands=t,this._brandItem=this._containerBrands.querySelectorAll(".catalog-nav__controls-link"),this._containerFilter=e,this._filterItem=this._containerFilter.querySelectorAll(".catalog-filter__col-btn"),this.searchItem=this._containerFilter.querySelectorAll(".catalog-filter__form")[0],this._activeClass="is-active",this._sortTypeAsc={class:"sort-down",dataSort:"asc"},this._sortTypeDesc={class:"sort-up",dataSort:"desc"},this.init()}return _createClass(s,[{key:"_cleanClassFilterAll",value:function(){var s=this;this._filterItem.forEach(function(t){var e=t.closest(".catalog-filter__col");t.classList.remove(s._activeClass),t.classList.remove(s._sortTypeAsc.class),e.removeAttribute("data-sort")})}},{key:"_addClassFilter",value:function(t){var e=t.closest(".catalog-filter__col");t.classList.add(this._activeClass),t.classList.add(this._sortTypeAsc.class),e.setAttribute("data-sort",this._sortTypeAsc.dataSort)}},{key:"_toogleSort",value:function(t){var e=t.closest(".catalog-filter__col");t.classList.contains(this._sortTypeAsc.class)?(t.classList.remove(this._sortTypeAsc.class),t.classList.add(this._sortTypeDesc.class),e.setAttribute("data-sort",this._sortTypeDesc.dataSort)):(t.classList.remove(this._sortTypeDesc.class),t.classList.add(this._sortTypeAsc.class),e.setAttribute("data-sort",this._sortTypeAsc.dataSort))}},{key:"_selectBrand",value:function(t){t.classList.contains("is-active")||(this._brandItem.forEach(function(t){t.classList.remove("is-active")}),t.classList.add("is-active"))}},{key:"_queryFormation",value:function(){var t,s=[],e=this.searchItem.getElementsByTagName("input")[0];this._brandItem.forEach(function(t){t.classList.contains("is-active")&&s.push("brand="+t.getAttribute("data-brand"))}),this._filterItem.forEach(function(t){var e=t.closest(".catalog-filter__col");t.classList.contains("is-active")&&(s.push("sort="+e.getAttribute("data-sort")),s.push("sortType="+e.getAttribute("data-filter")))}),""!==e.value&&s.push("search="+e.value),t="?"+s.join("&"),console.log(t)}},{key:"init",value:function(){var e=this;this._filterItem.forEach(function(t){t.addEventListener("click",function(){t.classList.contains(e._activeClass)?e._toogleSort(this):(e._cleanClassFilterAll(),e._addClassFilter(this)),e._queryFormation()})}),this._brandItem.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),this.classList.contains("is-active")||(e._selectBrand(this),e._queryFormation())})}),this.searchItem.getElementsByTagName("input")[0].addEventListener("input",function(){e._queryFormation()})}}]),s}(),s=function(){function s(t,e){_classCallCheck(this,s),this._url=t,this._type=e,this.ajax=new XMLHttpRequest}return _createClass(s,[{key:"_progress",value:function(){}},{key:"_complete",value:function(){var t=JSON.parse(this.response);console.log(t)}},{key:"send",value:function(t){this.ajax.addEventListener("progress",this._progress,!1),this.ajax.addEventListener("load",this._complete,!1),"get"===this._type.toLowerCase()?(this.ajax.open(this._type,this._url),this.ajax.send(),console.log("get")):"post"===this._type.toLowerCase()?console.log("post"):console.log("Error")}}]),s}(),i=(new t(document.querySelectorAll(".catalog")[0],"catalog__title","catalog__container"),new s("test.json","get")),o=new e(document.querySelectorAll(".catalog-nav__controls")[0],document.querySelectorAll(".catalog-filter")[0]);i.send({data:1}),window.filter=o}(),$(".footer__col-title").on("click",function(t){t.preventDefault(),$(this).closest(".footer__col").find(".footer__col-list").slideToggle(300)}),window.addEventListener("load",function(){var t=$(".catalog-nav__controls-link"),e=($(".catalog-nav__controls-list"),$(".catalog-nav__controls-item"),$(".catalog-nav__controls-link.is-active")),o=$(".catalog-nav__hover"),s=e.position().left,i=e.position().top,n=(e.innerWidth(),e.innerHeight(),!1);function a(){s=e.position().left,i=e.position().top,e.innerWidth(),e.innerHeight(),o.css({left:s,top:i,width:0,height:0})}t.hover(function(){var t=$(this).position().left,e=$(this).position().top,s=$(this).innerWidth(),i=$(this).innerHeight();o.css({left:t,top:e,width:s,height:i}),n=!1},function(){setTimeout(function(){n&&o.css({left:s,top:i,width:0,height:0})},1e3),n=!0}),$(window).resize(function(){a()}),a()}),function(){var t=document.getElementById("scene");new Parallax(t)}(),$(document).on("click",".product-row__info-button",function(){$(this).closest(".product-row").find(".product-row__info-button").toggleClass("is-active"),$(this).closest(".product-row").find(".product-row__info-content").slideToggle(300)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZFRvQmFza2V0LmpzIiwiYnVyZ2VyLmpzIiwiY2F0YWxvZ1VwZGF0ZUNsYXNzLmpzIiwiZm9vdGVyTWVudS5qcyIsImhvdmVyUm9sbGVyLmpzIiwicGFyYWxsYXguanMiLCJzaG93TW9yZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJvbiIsInRoaXMiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwiYmluZCIsIm1lbnVCdG4iLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ3aW5kb3ciLCJvbnJlc2l6ZSIsInJlbW92ZSIsIm9uc2Nyb2xsIiwiQ2F0YWxvZyIsInNlbGYiLCJ0aXRsZUNsYXNzIiwicHJvZHVjdHNDb250YWluZXJDbGFzcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9zZWxmIiwiX3RpdGxlIiwicXVlcnlTZWxlY3RvckFsbCIsIl9wcm9kdWN0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiaW5uZXJIVE1MIiwidGl0bGUiLCJwcm9kdWN0cyIsImluc2VydEFkamFjZW50SFRNTCIsIkZpbHRlciIsImNvbnRhaW5lckJyYW5kcyIsImNvbnRhaW5lckZpbHRlciIsIl9jb250YWluZXJCcmFuZHMiLCJfYnJhbmRJdGVtIiwiX2NvbnRhaW5lckZpbHRlciIsIl9maWx0ZXJJdGVtIiwic2VhcmNoSXRlbSIsIl9hY3RpdmVDbGFzcyIsIl9zb3J0VHlwZUFzYyIsImNsYXNzIiwiZGF0YVNvcnQiLCJfc29ydFR5cGVEZXNjIiwiaW5pdCIsImZvckVhY2giLCJpdGVtIiwicGFyZW50IiwiY2xvc2VzdCIsInJlbW92ZUF0dHJpYnV0ZSIsImFkZCIsInNldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwiZ2V0UXVlcnkiLCJhcnJheVF1ZXJ5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwdXNoIiwiZ2V0QXR0cmlidXRlIiwiam9pbiIsImNvbnNvbGUiLCJsb2ciLCJfdG9vZ2xlU29ydCIsIl9jbGVhbkNsYXNzRmlsdGVyQWxsIiwiX2FkZENsYXNzRmlsdGVyIiwiX3F1ZXJ5Rm9ybWF0aW9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZWxlY3RCcmFuZCIsIkFqYXhHZXRQcm9kdWN0cyIsInVybCIsInR5cGUiLCJfdXJsIiwiX3R5cGUiLCJhamF4IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZSIsImRhdGEiLCJfcHJvZ3Jlc3MiLCJfY29tcGxldGUiLCJ0b0xvd2VyQ2FzZSIsIm9wZW4iLCJzZW5kIiwiYWpheENvbm5lY3QiLCJmaWx0ZXIiLCJlIiwiZmluZCIsInNsaWRlVG9nZ2xlIiwibWVudUxpbmsiLCJhY3RpdmVMaW5rIiwiaG92ZXJCb3giLCJhY3RpdmVMaW5rUG9zTGVmdCIsInBvc2l0aW9uIiwibGVmdCIsImFjdGl2ZUxpbmtQb3NUb3AiLCJ0b3AiLCJjaGVjayIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInJlc2l6ZVBvcyIsImNzcyIsIndpZHRoIiwiaGVpZ2h0IiwiaG92ZXIiLCJuZXdMaW5rUG9zTGVmdCIsIm5ld0xpbmtQb3NUb3AiLCJuZXdMaW5rV2lkdGgiLCJuZXdMaW5rSGVpZ2h0IiwicmVzaXplIiwic2NlbmUiLCJQYXJhbGxheCIsInRvZ2dsZUNsYXNzIl0sIm1hcHBpbmdzIjoibVpBQ0lBLEVBQUVDLFVBQVVDLEdBQUcsUUFBUyx1QkFBd0IsV0FDdkNGLEVBQUVHLE1BQU1DLFNBQVMsYUFDbEJKLEVBQUVHLE1BQU1FLFNBQVMsV0FDakJMLEVBQUVHLE1BQU1FLFNBQVMsaUJBQ2pCQyxXQUFXLFdBQ1BOLEVBQUVHLE1BQU1JLFlBQVksaUJBQ3BCUCxFQUFFRyxNQUFNSSxZQUFZLFlBQ3RCQyxLQUFLTCxNQUFPLFFDUnpCLFdBQ0csSUFBSU0sRUFBVVIsU0FBU1MsZUFBZSxlQUV0Q0QsRUFBUUUsaUJBQWlCLFFBQVMsV0FDOUJGLEVBQVFHLFVBQVVDLE9B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QTZCLFdBQ2pERixFQUFFRyxNQUFNZ0QsUUFBUSxnQkFBZ0J3QyxLQUFLLDZCQUE2QnlCLFlBQVksYUFDOUVwSCxFQUFFRyxNQUFNZ0QsUUFBUSxnQkFBZ0J3QyxLQUFLLDhCQUE4QkMsWUFBWSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24oKSB7XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnByb2R1Y3Qtcm93X19idXR0b24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FuaW1hdGUnKSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJidXR0b24tLWNoZWNrXCIpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImJ1dHRvbi0tY2hlY2tcIik7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbmltYXRlJyk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgMjAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pKCk7XHJcbiIsIjsoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgbWVudUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZW51LWJ1dHRvbicpO1xyXG5cclxuICAgIG1lbnVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoJ29wZW5lZCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbWVudUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuZWQnKTtcclxuICAgIH1cclxuICAgIHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG1lbnVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkJyk7XHJcbiAgICB9XHJcbn0pKCk7XHJcbiIsIjsoZnVuY3Rpb24oKXtcclxuXHJcbiAgICBjbGFzcyBDYXRhbG9nIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihzZWxmLCB0aXRsZUNsYXNzLCBwcm9kdWN0c0NvbnRhaW5lckNsYXNzKXtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZiA9IHNlbGY7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fc2VsZi5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGl0bGVDbGFzcylbMF07XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2R1Y3RzID0gdGhpcy5fc2VsZi5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgcHJvZHVjdHNDb250YWluZXJDbGFzcylbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfY2xlYW5Qcm9kdWN0cygpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvZHVjdHMuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9wbGF5UHJlbG9hZGVyKCkge1xyXG4gICAgICAgICAgICAvLyDQodC00LXQu9Cw0YLRjCDQt9Cw0L/Rg9GB0Log0L/RgNC10LvQvtGD0LTQtdGA0LBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9zdG9wUHJlbG9hZGVyKCkge1xyXG4gICAgICAgICAgICAvLyDQodC00LXQu9Cw0YLRjCDQvtGB0YLQsNC90L7QstC60YMg0L/RgNC10LvQvtGD0LTQtdGA0LBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVwZGF0ZVRpdGxlKHRpdGxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpdGxlLmlubmVySFRNTCA9IHRpdGxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXBkYXRlTGlzdFByb2R1Y3RzKHByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2R1Y3RzLmlubmVySFRNTCA9IHByb2R1Y3RzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkUHJvZHVjdHMocHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvZHVjdHMuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHByb2R1Y3RzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgRmlsdGVyIHtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihjb250YWluZXJCcmFuZHMsIGNvbnRhaW5lckZpbHRlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJCcmFuZHMgPSBjb250YWluZXJCcmFuZHM7XHJcbiAgICAgICAgICAgIHRoaXMuX2JyYW5kSXRlbSA9IHRoaXMuX2NvbnRhaW5lckJyYW5kcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGFsb2ctbmF2X19jb250cm9scy1saW5rXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVyRmlsdGVyID0gY29udGFpbmVyRmlsdGVyO1xyXG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJJdGVtID0gdGhpcy5fY29udGFpbmVyRmlsdGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2F0YWxvZy1maWx0ZXJfX2NvbC1idG5cIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoSXRlbSA9IHRoaXMuX2NvbnRhaW5lckZpbHRlci5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGFsb2ctZmlsdGVyX19mb3JtXCIpWzBdO1xyXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVDbGFzcyA9IFwiaXMtYWN0aXZlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX3NvcnRUeXBlQXNjID0ge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwic29ydC1kb3duXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhU29ydDogXCJhc2NcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aGlzLl9zb3J0VHlwZURlc2MgPSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzczogXCJzb3J0LXVwXCIsXHJcbiAgICAgICAgICAgICAgICBkYXRhU29ydDogXCJkZXNjXCJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfY2xlYW5DbGFzc0ZpbHRlckFsbCgpIHtcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fZmlsdGVySXRlbS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IGl0ZW0uY2xvc2VzdChcIi5jYXRhbG9nLWZpbHRlcl9fY29sXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoc2VsZi5fYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShzZWxmLl9zb3J0VHlwZUFzYy5jbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc29ydFwiKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX2FkZENsYXNzRmlsdGVyKGl0ZW0pIHtcclxuICAgICAgICAgICAgbGV0IHBhcmVudCA9IGl0ZW0uY2xvc2VzdChcIi5jYXRhbG9nLWZpbHRlcl9fY29sXCIpO1xyXG5cclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuX2FjdGl2ZUNsYXNzKTtcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuX3NvcnRUeXBlQXNjLmNsYXNzKTtcclxuXHJcbiAgICAgICAgICAgIHBhcmVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRcIiwgdGhpcy5fc29ydFR5cGVBc2MuZGF0YVNvcnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3Rvb2dsZVNvcnQoaXRlbSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gaXRlbS5jbG9zZXN0KFwiLmNhdGFsb2ctZmlsdGVyX19jb2xcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnModGhpcy5fc29ydFR5cGVBc2MuY2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc29ydFR5cGVBc2MuY2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKHRoaXMuX3NvcnRUeXBlRGVzYy5jbGFzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFyZW50LnNldEF0dHJpYnV0ZShcImRhdGEtc29ydFwiLCB0aGlzLl9zb3J0VHlwZURlc2MuZGF0YVNvcnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NvcnRUeXBlRGVzYy5jbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQodGhpcy5fc29ydFR5cGVBc2MuY2xhc3MpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhcmVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNvcnRcIiwgdGhpcy5fc29ydFR5cGVBc2MuZGF0YVNvcnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3NlbGVjdEJyYW5kKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKCFpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcImlzLWFjdGl2ZVwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9icmFuZEl0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9xdWVyeUZvcm1hdGlvbigpIHtcclxuICAgICAgICAgICAgLy/QnNC10YLQvtC0INGE0L7RgNC80LjRgNC+0LLQsNC90LjRjyBnZXQg0LfQsNC/0YDQvtGB0LBcclxuICAgICAgICAgICAgbGV0IGFycmF5UXVlcnkgPSBbXSxcclxuICAgICAgICAgICAgICAgIHNlYXJjaEl0ZW0gPSB0aGlzLnNlYXJjaEl0ZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVswXSxcclxuICAgICAgICAgICAgICAgIGdldFF1ZXJ5O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYnJhbmRJdGVtLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlRdWVyeS5wdXNoKFwiYnJhbmQ9XCIgKyBpdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtYnJhbmRcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlckl0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gaXRlbS5jbG9zZXN0KFwiLmNhdGFsb2ctZmlsdGVyX19jb2xcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheVF1ZXJ5LnB1c2goXCJzb3J0PVwiICsgcGFyZW50LmdldEF0dHJpYnV0ZShcImRhdGEtc29ydFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlRdWVyeS5wdXNoKFwic29ydFR5cGU9XCIgKyBwYXJlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1maWx0ZXJcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hJdGVtLnZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheVF1ZXJ5LnB1c2goXCJzZWFyY2g9XCIgKyBzZWFyY2hJdGVtLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2V0UXVlcnkgPSBcIj9cIiArIGFycmF5UXVlcnkuam9pbihcIiZcIik7XHJcblxyXG4gICAgICAgICAgICAvL1RvZG86INC30LTQtdGB0Ywg0LTQvtC70LbQtdC9INCy0YvQt9GL0LLQsNGC0YzRgdGPIGFqYXgg0Lgg0L/RgNC40L3QuNC80LDRgtGMIGdldCDRgdGC0YDQvtC60YNcclxuICAgICAgICAgICAgLy9Ub2RvOiDQt9C00LXRgdGMINC00L7Qu9C20LXQvSDQstGL0LfRi9Cy0LDRgtGM0YHRjyBoaXN0b3J5QVBJINC00LvRjyDRgdC+0YXRgNCw0L3QtdC90LjRjyDQuNGB0YLQvtGA0LjQuCDRgSBnZXQg0LfQsNC/0YDQvtGB0LDQvNC4XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGdldFF1ZXJ5KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbml0KCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpbHRlckl0ZW0uZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdC5jb250YWlucyhzZWxmLl9hY3RpdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fdG9vZ2xlU29ydCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QktGL0LfQvtCyINC80LXRgtC+0LTQsCDRhNC+0YDQvNC40YDQvtCy0LDQvdC40Y8gR2V0INC30LDQv9GA0L7RgdCwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3F1ZXJ5Rm9ybWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2xlYW5DbGFzc0ZpbHRlckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9hZGRDbGFzc0ZpbHRlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/QktGL0LfQvtCyINC80LXRgtC+0LTQsCDRhNC+0YDQvNC40YDQvtCy0LDQvdC40Y8gR2V0INC30LDQv9GA0L7RgdCwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3F1ZXJ5Rm9ybWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYnJhbmRJdGVtLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1hY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2VsZWN0QnJhbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v0JLRi9C30L7QsiDQvNC10YLQvtC00LAg0YTQvtGA0LzQuNGA0L7QstCw0L3QuNGPIEdldCDQt9Cw0L/RgNC+0YHQsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9xdWVyeUZvcm1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaEl0ZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKVswXS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvL9CS0YvQt9C+0LIg0LzQtdGC0L7QtNCwINGE0L7RgNC80LjRgNC+0LLQsNC90LjRjyBHZXQg0LfQsNC/0YDQvtGB0LBcclxuICAgICAgICAgICAgICAgIHNlbGYuX3F1ZXJ5Rm9ybWF0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjbGFzcyBBamF4R2V0UHJvZHVjdHMge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHVybCwgdHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cmwgPSB1cmw7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB0aGlzLmFqYXggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9wcm9ncmVzcygpIHtcclxuICAgICAgICAgICAgLy8g0KHQtNC10LvQsNGC0Ywg0LTQtdC50YHRgtCy0LjQtSDQstC+INCy0YDQtdC80Y8g0L/RgNC+0YbQtdGB0YHQsCDQt9Cw0LPRgNGD0LfQutC4XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfY29tcGxldGUoKSB7XHJcbiAgICAgICAgICAgIC8vIGlmICh0aGlzLnN0YXR1cyAhPSAyMDApIHtcclxuICAgICAgICAgICAgLy8gICAvLyDQvtCx0YDQsNCx0L7RgtCw0YLRjCDQvtGI0LjQsdC60YNcclxuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyggdGhpcy5zdGF0dXMgKyAnOiAnICsgdGhpcy5zdGF0dXNUZXh0ICk7IC8vINC/0YDQuNC80LXRgCDQstGL0LLQvtC00LA6IDQwNDogTm90IEZvdW5kXHJcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgLy8g0LLRi9Cy0LXRgdGC0Lgg0YDQtdC30YPQu9GM0YLQsNGCXHJcbiAgICAgICAgICAgIC8vICAgbGV0IG9iaiA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSlcclxuICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZyggb2JqICk7IC8vIHJlc3BvbnNlVGV4dCAtLSDRgtC10LrRgdGCINC+0YLQstC10YLQsC5cclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbmQoZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmFqYXguYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIHRoaXMuX3Byb2dyZXNzLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWpheC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLl9jb21wbGV0ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJnZXRcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5vcGVuKHRoaXMuX3R5cGUsIHRoaXMuX3VybCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFqYXguc2VuZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3R5cGUudG9Mb3dlckNhc2UoKSA9PT0gXCJwb3N0XCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicG9zdFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3JcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxldCBjYXRhbG9kVGVzdCA9IG5ldyBDYXRhbG9nKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2F0YWxvZ1wiKVswXSwgXCJjYXRhbG9nX190aXRsZVwiLCBcImNhdGFsb2dfX2NvbnRhaW5lclwiKTtcclxuICAgIGxldCBhamF4Q29ubmVjdCA9IG5ldyBBamF4R2V0UHJvZHVjdHMoXCJ0ZXN0Lmpzb25cIiwgXCJnZXRcIik7XHJcbiAgICBsZXQgZmlsdGVyID0gbmV3IEZpbHRlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhdGFsb2ctbmF2X19jb250cm9sc1wiKVswXSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXRhbG9nLWZpbHRlclwiKVswXSk7XHJcblxyXG4gICAgYWpheENvbm5lY3Quc2VuZCh7ZGF0YTogMX0pO1xyXG5cclxuICAgIC8v0KLQtdGB0YJcclxuICAgIC8vIHdpbmRvdy5kaXZBcnJheSA9IGRpdkFycmF5O1xyXG4gICAgd2luZG93LmZpbHRlciA9IGZpbHRlcjtcclxufSkoKTtcclxuIiwiOyhmdW5jdGlvbigpIHtcclxuICAgIHZhciBidXR0b24gPSAkKCcuZm9vdGVyX19jb2wtdGl0bGUnKTtcclxuXHJcbiAgICBidXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5mb290ZXJfX2NvbCcpLmZpbmQoJy5mb290ZXJfX2NvbC1saXN0Jykuc2xpZGVUb2dnbGUoMzAwKTtcclxuICAgIH0pO1xyXG59KSgpO1xyXG4iLCI7KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBtZW51TGluayA9ICQoJy5jYXRhbG9nLW5hdl9fY29udHJvbHMtbGluaycpLFxyXG4gICAgICAgICAgICBtZW51ID0gJCgnLmNhdGFsb2ctbmF2X19jb250cm9scy1saXN0Jyk7XHJcblxyXG4gICAgICAgIHZhciBtZW51SXRlbSA9ICQoJy5jYXRhbG9nLW5hdl9fY29udHJvbHMtaXRlbScpLFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rID0gJCgnLmNhdGFsb2ctbmF2X19jb250cm9scy1saW5rLmlzLWFjdGl2ZScpLFxyXG4gICAgICAgICAgICBob3ZlckJveCA9ICQoJy5jYXRhbG9nLW5hdl9faG92ZXInKSxcclxuICAgICAgICAgICAgYWN0aXZlTGlua1Bvc0xlZnQgPSBhY3RpdmVMaW5rLnBvc2l0aW9uKCkubGVmdCxcclxuICAgICAgICAgICAgYWN0aXZlTGlua1Bvc1RvcCA9IGFjdGl2ZUxpbmsucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIGFjdGl2ZUxpbmtXaWR0aCA9IGFjdGl2ZUxpbmsuaW5uZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rSGVpZ2h0ID0gYWN0aXZlTGluay5pbm5lckhlaWdodCgpO1xyXG5cclxuICAgICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcclxuICAgICAgICBtZW51TGluay5ob3ZlcihcclxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3TGlua1Bvc0xlZnQgPSAkKHRoaXMpLnBvc2l0aW9uKCkubGVmdCxcclxuICAgICAgICAgICAgICAgIG5ld0xpbmtQb3NUb3AgPSAkKHRoaXMpLnBvc2l0aW9uKCkudG9wLFxyXG4gICAgICAgICAgICAgICAgbmV3TGlua1dpZHRoID0gJCh0aGlzKS5pbm5lcldpZHRoKCksXHJcbiAgICAgICAgICAgICAgICBuZXdMaW5rSGVpZ2h0ID0gJCh0aGlzKS5pbm5lckhlaWdodCgpO1xyXG4gICAgICAgICAgICBob3ZlckJveC5jc3MoeydsZWZ0JyA6IG5ld0xpbmtQb3NMZWZ0LCAndG9wJyA6IG5ld0xpbmtQb3NUb3AsICd3aWR0aCcgOiBuZXdMaW5rV2lkdGgsICdoZWlnaHQnIDogbmV3TGlua0hlaWdodH0pO1xyXG4gICAgICAgICAgICBjaGVjayA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJCb3guY3NzKHsnbGVmdCcgOiBhY3RpdmVMaW5rUG9zTGVmdCwgJ3RvcCcgOiBhY3RpdmVMaW5rUG9zVG9wLCAnd2lkdGgnIDogMCwgJ2hlaWdodCcgOiAwfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgY2hlY2sgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZVBvcygpIHtcclxuICAgICAgICAgICAgYWN0aXZlTGlua1Bvc0xlZnQgPSBhY3RpdmVMaW5rLnBvc2l0aW9uKCkubGVmdCxcclxuICAgICAgICAgICAgYWN0aXZlTGlua1Bvc1RvcCA9IGFjdGl2ZUxpbmsucG9zaXRpb24oKS50b3AsXHJcbiAgICAgICAgICAgIGFjdGl2ZUxpbmtXaWR0aCA9IGFjdGl2ZUxpbmsuaW5uZXJXaWR0aCgpLFxyXG4gICAgICAgICAgICBhY3RpdmVMaW5rSGVpZ2h0ID0gYWN0aXZlTGluay5pbm5lckhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgaG92ZXJCb3guY3NzKHsnbGVmdCcgOiBhY3RpdmVMaW5rUG9zTGVmdCwgJ3RvcCcgOiBhY3RpdmVMaW5rUG9zVG9wLCAnd2lkdGgnIDogMCwgJ2hlaWdodCcgOiAwfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXNpemVQb3MoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXNpemVQb3MoKTtcclxuICAgIH0pO1xyXG5cclxuXHJcbn0pKCk7XHJcbiIsIjsoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgc2NlbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2NlbmUnKTtcclxuICAgIGxldCBwYXJhbGxheEluc3RhbmNlID0gbmV3IFBhcmFsbGF4KHNjZW5lKTtcclxuXHJcbiAgICBcclxufSkoKTtcclxuIiwiOyhmdW5jdGlvbigpIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucHJvZHVjdC1yb3dfX2luZm8tYnV0dG9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcucHJvZHVjdC1yb3cnKS5maW5kKCcucHJvZHVjdC1yb3dfX2luZm8tYnV0dG9uJykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLnByb2R1Y3Qtcm93JykuZmluZCgnLnByb2R1Y3Qtcm93X19pbmZvLWNvbnRlbnQnKS5zbGlkZVRvZ2dsZSgzMDApO1xyXG4gICAgfSk7XHJcbn0pKCk7XHJcbiJdfQ==
>>>>>>> 25cc584a972d8f80169db089395ccbc879996a5b
